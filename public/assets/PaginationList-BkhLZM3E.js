import{R as r,j as e,B as i,T as w,Q as g}from"./index-CaIhHF-A.js";import{S as k}from"./SearchBar-BV3SE2Xo.js";import{A as S}from"./DrawerItem-DmZdp4um.js";import{I as C}from"./IconButton-MJ3-UbfV.js";import{C as A}from"./CircularProgress-fLPsJ67Q.js";const D=({url:t,generator:o,noSearch:x,flexDirection:c="",row:l})=>{const[n,s]=r.useState([]),[a,h]=r.useState(!1),[d,u]=r.useState(""),[j,p]=r.useState(!1);r.useEffect(()=>{if(t){var f=t+(t!=null&&t.includes("?")?`&key=${d}`:`?key=${d}`);m(f,s,h,p)}},[t,d]);const y=()=>{a&&m(a,s,h,p,!0)};return e.jsxs(i,{sx:{flex:1,width:"100%",flexDirection:c},children:[!x&&e.jsx(k,{mb:2,onSearch:f=>u(f),sticky:!0}),a!==!1&&n.length===0&&e.jsx(i,{sx:{width:"100%",textAlign:"center"},children:e.jsx(w,{children:"There is no data"})}),e.jsx(i,{sx:{display:"flex",flexDirection:l?"row":"column",flexWrap:"wrap",justifyContent:"space-around"},children:o([n,s])}),a&&!j&&e.jsx(i,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:e.jsx(C,{onClick:y,size:"small",children:e.jsx(S,{})})}),j&&e.jsx(i,{sx:{width:"100%",textAlign:"center"},children:e.jsx(A,{})})]})},m=async(t,o,x,c,l)=>{c(!0);const n=await g(t);if(n.ok){const s=await n.json();o(l?a=>[...a,...s.data]:s.data),x(s.links.next)}c(!1)};export{D as L};
