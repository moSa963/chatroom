import{f,j as t,h as g,i as v,R as l,l as C,_ as j,Q as I,ah as B,t as F,A as z}from"./index-CaIhHF-A.js";import{U as A}from"./UpdateImage-BZ049qJr.js";import{F as M,a as d,I as U}from"./FormGrid-CbOKPpaL.js";import{T as u}from"./TextField-CZZH6F32.js";import"./useSlot-B2ypxoMr.js";import"./useTheme-3LnXaT5y.js";import"./Avatar-uHaAvRsy.js";import"./ButtonGroup-CSFxwt5v.js";import"./useFormControl-D2no1hWV.js";import"./Box-9rK6eZ5T.js";import"./Divider-CHuyDDgv.js";import"./dividerClasses-DWQ-FdG8.js";import"./LinearProgress-Jpiw1qIK.js";import"./InputBase-C2S44BkD.js";import"./ownerWindow-DIR61fab.js";import"./Select-BXXJImva.js";import"./useSlotProps-CB5KISOk.js";import"./List-B2nk_oQk.js";import"./useControlled-ND4_ps6i.js";const k=f(t.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox"),w=f([t.jsx("path",{d:"M21 19.1H3V5h18zM21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"},"0"),t.jsx("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41z"},"1")],"CancelPresentation"),G=()=>{var p,x,h;const a=g(v),[n,o]=l.useState({}),[e,c]=l.useState({}),[i,r]=l.useState(!1),P=C(),m=(s,T)=>{n[s]=T,o({...n})},S=()=>{b(n,c,P,r,o)};return t.jsxs(M,{onSave:S,title:"Profile Settings",processing:i,children:[t.jsx(d,{label:"Name",children:t.jsx(u,{size:"small",fullWidth:!0,value:(n==null?void 0:n.name)||(a==null?void 0:a.name)||"",onChange:s=>m("name",s.currentTarget.value),error:!!(e!=null&&e.name),helperText:(p=e==null?void 0:e.name)==null?void 0:p.at(0)})}),t.jsx(d,{label:"Username",children:t.jsx(u,{size:"small",fullWidth:!0,value:(n==null?void 0:n.username)||(a==null?void 0:a.username)||"",onChange:s=>m("username",s.currentTarget.value),error:!!(e!=null&&e.username),helperText:(x=e==null?void 0:e.username)==null?void 0:x.at(0)})}),t.jsx(d,{label:"Email",children:t.jsx(u,{size:"small",fullWidth:!0,value:(n==null?void 0:n.email)||(a==null?void 0:a.email)||"",onChange:s=>m("email",s.currentTarget.value),error:!!(e!=null&&e.email),helperText:(h=e==null?void 0:e.email)==null?void 0:h.at(0),InputProps:{endAdornment:t.jsx(U,{position:"end",children:t.jsx(L,{verified:a==null?void 0:a.email_verified_at})})}})})]})},L=({verified:a})=>a?t.jsx(j,{title:"this email is verified",color:"info",children:t.jsx(k,{})}):t.jsx(j,{title:"this email is not verified",color:"error",children:t.jsx(w,{})}),b=async(a,n,o,e,c)=>{e(!0);const i=await I("api/user/update","POST",a);e(!1),n(null);const r=await i.json();if(i.ok){c({}),o(B(r.data));return}n(r.errors)},O=()=>t.jsx(F,{variant:"contained",color:"error",onClick:R,children:"LOGOUT"}),R=async()=>{await I("logout","POST"),window.location.reload()},ne=()=>{const a=g(v);return t.jsxs(l.Fragment,{children:[t.jsx(A,{src:`${z}api/users/${a==null?void 0:a.username}/image`,link:"api/user/image",caption:"Must be JPEG, PNG, or GIF and cannot exceed 10MB"}),t.jsx(G,{}),t.jsx(O,{})]})};export{ne as default};
