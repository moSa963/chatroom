import{R as m,h as j,C as g,l as b,D as C,j as t,B as u,T as l,t as R,F as T}from"./index-CaIhHF-A.js";import{S as y}from"./Screen-Boa_ILVN.js";import{D as h}from"./Divider-CHuyDDgv.js";import{P as O}from"./useSlot-B2ypxoMr.js";import{T as p}from"./TextField-CZZH6F32.js";import"./dividerClasses-DWQ-FdG8.js";import"./useTheme-3LnXaT5y.js";import"./InputBase-C2S44BkD.js";import"./useFormControl-D2no1hWV.js";import"./ownerWindow-DIR61fab.js";import"./Select-BXXJImva.js";import"./useSlotProps-CB5KISOk.js";import"./List-B2nk_oQk.js";import"./useControlled-ND4_ps6i.js";class S{constructor(r={}){this.values=r}min(r,e){return this.values[r].min>e[r].length?r+" minimum length is "+this.values[r].min:null}max(r,e){return e[r].length>this.values[r].max?r+" maximum length is "+this.values[r].max:null}match(r,e){return e[r].match(this.values[r].match)?null:r+" format is not valide"}confirm(r,e){return e[r]!==e[this.values[r].confirm]?this.values[r].confirm+" confirmation is wrong.":null}validateOne(r,e){var a=null;return this.values[r]?(Object.keys(this.values[r]).forEach(s=>{if(!this[s])return null;const n=this[s](r,e);if(n!==null){a=n;return}}),a):null}validate(r={}){var e=null;const a=Object.keys(r);return Object.keys(this.values).forEach(s=>{r[s]||(e||(e={}),e[s]=s+" is requered.")}),a.forEach(s=>{const n=this.validateOne(s,r);n&&(e||(e={}),e[s]=n)}),e}}const x=new S({name:{min:3,max:50,match:/^[A-Za-z]+([ ._-]?[A-Za-z0-9]+)*$/s},description:{min:8,max:50}}),G=()=>{const[o,r]=m.useState({}),[e,a]=m.useState({}),s=j(g),n=b(),f=C(),d=(i,c)=>{o[i]=c,r({...o}),e[i]=x.validateOne(i,o),a({...e})},v=()=>{if(s)return;const i=x.validate(o);if(i){a(i);return}n(T({room:o,action:c=>f("/dashboard/rooms/"+c.id+"/settings",{replace:!0})}))};return t.jsxs(y,{children:[t.jsxs(u,{children:[t.jsx(l,{variant:"h4",children:"Create a room: "}),t.jsx(h,{sx:{mb:3}})]}),t.jsxs(O,{sx:{borderRadius:4,overflow:"hidden",mt:1,border:"1px solid",borderColor:"divider"},children:[t.jsxs(u,{sx:{p:2},children:[t.jsx(l,{children:"Room name: "}),t.jsx(p,{fullWidth:!0,placeholder:"Name...",size:"small",onChange:i=>d("name",i.currentTarget.value),value:o.name||"",error:!!e.name,helperText:e.name}),t.jsx(l,{variant:"caption",color:"GrayText",children:"the name of the room other will see or search for"})]}),t.jsx(h,{}),t.jsxs(u,{sx:{p:2},children:[t.jsx(l,{children:"Room description: "}),t.jsx(p,{fullWidth:!0,placeholder:"Description...",size:"small",onChange:i=>d("description",i.currentTarget.value),value:o.description||"",error:!!e.description,helperText:e.description})]}),t.jsx(h,{}),t.jsx(R,{onClick:v,disabled:s,variant:"text",sx:{float:"right"},children:"Create"})]})]})};export{G as default};
