import{R as u,h as d,i as j,j as p,t as f,Q as l}from"./index-CaIhHF-A.js";const w=({room:e,onChange:t})=>{const[i,a]=u.useState(!1),n=d(j),s=(e==null?void 0:e.user_status)==="join"?e!=null&&e.locked?"locked":"join":e==null?void 0:e.user_status,c=()=>{k(e,s,a,n,t)};return p.jsx(f,{disabled:i||s==="owner"||s==="banned"||s==="locked",variant:"outlined",onClick:c,color:s==="join"?"error":"primary",children:s})},k=async(e,t,i,a,n)=>{i(!0);var s=null;if(t==="requested"||t==="joined"?s=await l(`api/rooms/${e==null?void 0:e.id}/users/${a.username}`,"DELETE"):t==="invited"?s=await l(`api/rooms/${e==null?void 0:e.id}/invitations/accept`,"POST"):t==="join"&&(s=await l(`api/rooms/${e==null?void 0:e.id}/requests`,"POST")),s!=null&&s.ok){const c=await s.json();n(c.data,t),i(!1)}};export{w as J};
